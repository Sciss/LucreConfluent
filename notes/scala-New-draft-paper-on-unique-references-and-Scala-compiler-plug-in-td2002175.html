<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
					<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
					<link rel="stylesheet" href="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/site.css" type="text/css">
	<link rel="stylesheet" href="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/NamlServlet.css" type="text/css">
					<script src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/jquery-1.js" type="text/javascript"></script>
	<script src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/nabbledropdown-2.js" type="text/javascript"></script>
	<script src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/Javascript.js" type="text/javascript"></script>
					<script src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/urchin.js" type="text/javascript"></script>
	<script src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/analytics.js" type="text/javascript"></script>
					<script type="text/javascript">
		Nabble.setFontSize();
		
	</script>
					<script type="text/javascript">
		var terms = Nabble.getSearchTerms();
		var hasTurnOff = false;
		Nabble.highlight = function($elem) {
			if (terms != null && terms.length > 0) {
				$elem.each(function() {
					Nabble.hilt(terms, this);
				});
				if (Nabble.hasHighlightedTerms && !hasTurnOff) {
					var turnOffLink = '<span class="highlight">&nbsp;X&nbsp;</span> ';
					turnOffLink += '<a href="javascript:void(0)" onclick="Nabble.turnOffHighlight()">Turn off highlighting</a>';
					$('#topics-controls-right').prepend(turnOffLink);
					hasTurnOff = true;
				}
			}
		};
		Nabble.turnOffHighlight = function() {
			Nabble.deleteCookie("query");
			Nabble.deleteCookie("searchuser");
			Nabble.deleteCookie("searchterms");
			location.reload(true);
		};
	</script>
	<script type="text/javascript">
		Nabble.messageTextWidth();
	</script>
			<script type="text/javascript"> $(document).ready(function() { Nabble.highlight($('h2.post-subject,div.message-text')); }); </script> <script type="text/javascript"> if (location.hash) { (function(){ var post = location.hash.substr(2); var allPosts = [2002175, 2002183, 2002177, 2002184, 2002178, 2002179, 2002182, 2002180, 2002181]; var allURLs = ["/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175.html"]; var iPost = allPosts.indexOf(parseInt(post)); var lower = 0; var upper = lower + 20; if (iPost != -1 && (iPost < lower || iPost >= upper)) location.replace(allURLs[Math.floor(iPost/20)]+location.hash); })(); } $(document).ready(function() { var rootId = '2002175'; var currentPostId = rootId; var isChangingViews = location.hash == '#none'; if (location.hash && !isChangingViews) currentPostId = location.hash.substr(2); Nabble.hideQuotes(); function scrollToSelectedPost() { var $arrow = $('#red-arrow'+currentPostId).show(); if ($arrow.size() > 0) { var isRootPost = currentPostId == rootId; if (Nabble.isEmbedded) { if (Nabble.canScroll()) scrollTo(0, 0); var y = isChangingViews? null : isRootPost? 1 : $arrow.parents('div.classic-row').offset().top; Nabble.resizeFrames('', y); } else if (Nabble.canScroll() && !isRootPost) { var yPos = $arrow.offset().top; scrollTo(0,yPos-20); } } else { var tb = $('div.top-bar').get(0); if (tb && Nabble.canScroll()) tb.scrollIntoView(); } }; $(window).load(scrollToSelectedPost); if (Nabble.isEmbedded) { $('div.message-text img').load(Nabble.resizeFrames); } }); </script> <style type="text/css"> div.classic-header { height:2.2em; clear:both; overflow:hidden; } div.classic-author-name { float:left; width: 140px; overflow: hidden; text-align:center; font-weight:bold; } div.classic-subject-line { left:155px; right:2em; overflow:hidden; height:1.2em; position:absolute; } div.classic-right-menu { right:1em; position:absolute; padding:0 .5em; } div.classic-bar { padding:.5em .3em; clear:both; height:1.8em; } table.classic-body { border-collapse:collapse; margin-bottom:1em; table-layout: fixed; width:100%; } td.classic-author { vertical-align: top; text-align:center; width:140px; padding-bottom:1em; } td.classic-message { vertical-align:top; padding:1em; } div.message-text { cursor:text; overflow-x:auto; } div.avatar-inner { margin-left:20px; } div.avatar-outer { width:140px; text-align:left; } </style>
	<title>Scala - [scala] New draft paper on unique references and Scala compiler plug-in</title>
			<meta name="description" content="[scala] New draft paper on unique references and Scala compiler plug-in. Hi all, I'd like to announce a new draft paper on unique references. Title: Capabilities for Uniqueness and...">
					<meta name="keywords" content="odersky, unique, for, paper, announce, scala, authors, references, title, programming, martin, philipp, uniqueness, all, abstract, d, borrowing, haller, like, draft, new, plug, compiler, language, capabilities">
			<script type="text/javascript">
			Nabble.setView = function(view,url,post) {
				Nabble.setVar("tview",view);
				url += Nabble.getClientID(';');
				url += post == null? '#none':'#a'+post;
				location.replace(url);
			};
		</script><script type="text/javascript">
			Nabble.pinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=pin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').show();
					NabbleDropdown.show('unpinTopic');
					NabbleDropdown.hide('pinTopic');
					alert('This topic has been pinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unpinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unpin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').hide();
					NabbleDropdown.hide('unpinTopic');
					NabbleDropdown.show('pinTopic');
					alert('This topic has been unpinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.lockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=lock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').show();
					NabbleDropdown.show('unlockTopic');
					NabbleDropdown.hide('lockTopic');
					alert('This topic has been locked.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unlockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unlock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').hide();
					NabbleDropdown.hide('unlockTopic');
					NabbleDropdown.show('lockTopic');
					alert('This topic has been unlocked.');
				});
			};
		</script><script type="text/javascript">
		var starredImg = new Image();
		starredImg.src = "/images/icon_starred.png";
		var unstarredImg = new Image();
		unstarredImg.src = "/images/icon_unstarred.png";
		var star = '<img src="/images/icon_starred.png" class="star" alt="star"/>';

		function starInit(isStarred, c, id) {
			$('#star'+c+id)
				.css('cursor','pointer')
				.click(function(){
					starToggle(c,id);
				});

			starShow(isStarred,c,id);
		};

		function starShow(isStarred,c,id) {
			var $img = $('#img-star'+c+id);
			if (isStarred)
				$img.attr('src', starredImg.src).attr('title', "Starred (click to unstar it)");
			else
				$img.attr('src', unstarredImg.src).attr('title', "Click to star this item");
			updateReadonlyStars(isStarred, id);
		};

		function updateReadonlyStars(isStarred, id) {
			var $stars = $('#starC'+id+',#starD'+id);
			$stars.html(isStarred? star : '');
		};

		function starToggle(c,id) {
			if (!Nabble.userId) {
				if( confirm("You must log in to star this item.\nWould you like to login now?") ) {
					parent.location = "/template/NamlServlet.jtp?macro=login_page&nextUrl="+encodeURIComponent(parent.location) + Nabble.getClientID();
				}
				return;
			}
			var $img = $('#img-star'+c+id);
			var isStarred = $img.attr('src') == starredImg.src;
			isStarred = !isStarred;
			var descendants = c == 'A';
			var path = "/template/NamlServlet.jtp?node=" + id;
			if( descendants && !isStarred )
				path += "&macro=clear_descendant_stars";
			else
				path += "&macro=set_star&star=" + isStarred;
			$.getScript(path + Nabble.getClientID(), function() {
				starShow(isStarred,c,id);
			});
		};
	</script><script type="text/javascript">
			Nabble.nViews = function(id, views) {
				var $v = $('#v'+id);
				var pos = views=='1'?0:1;
				var t = $v.html()? $v.html().split('|')[pos]:'';
				$v.html(t == ''? views : t.replace(/%1/g,views)).show();
			};
		</script>
					
				<script type="text/javascript" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/VisitCounter.html"></script></head>
				<body>
					<div class="nabble macro_classic_forum_post" id="nabble">
						
			
			
			<div id="old-snippet-notice" class="light-highlight border1" style="display:none;padding:.5em;margin-bottom:.5em"></div>
	
			<div id="nabble-newsflash" class="light-highlight border1" style="display:none;padding:.5em;margin-bottom:.5em"></div>
	
			<div class="top-bar">
		<div class="breadcrumbs" style="float:left">
			<span id="breadcrumbs" class="weak-color nowrap">
		<a href="http://scala-programming-language.1934581.n4.nabble.com/">Scala Programming Language</a>
							<span> â€º </span>
					<a href="http://scala-programming-language.1934581.n4.nabble.com/Scala-f1986551.html">Scala</a>
	</span>
		</div>
		<div style="text-align:right;">
			<span style="white-space:nowrap;" id="nabble-user-header"><span id="embed-link"></span>&nbsp;&nbsp;<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=login_page&amp;nextUrl=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175.html">Login</a>&nbsp;&nbsp;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/Register.jtp?nextUrl=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175.html">Register</a></span>
	<script type="text/javascript">Nabble.userHeader();</script>
		</div>
	</div>
			

	<h1 id="post-title" style="margin:0.25em 0 .8em">
		[scala] New draft paper on unique references and Scala compiler plug-in
	</h1>
			<div style="margin-top:1.2em">
		<div id="topics-controls-left" class="float-left nowrap">
			<table>
		<tbody><tr>
			<td style="padding-right: 0.1em;">
		<img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/view-classic.gif" style="border: medium none;" alt="classic" height="18" width="18">
	</td>

	<td style="padding-right: 1.1em;">
		Classic
	</td>

			<td style="padding-right: 0.1em;">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tc2002175.html',null)"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/view-list.gif" style="border: medium none;" alt="list" height="18" width="18"></a>
	</td>

	<td style="padding-right: 1.1em;">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tc2002175.html',null)">List</a>
	</td>

			<td style="padding-right: 0.1em;">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html',null)"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/view-threaded.gif" style="border: medium none;" alt="threaded" height="18" width="18"></a>
	</td>

	<td style="padding-right: 1.1em;">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html',null)">Threaded</a>
	</td>
		</tr>
	</tbody></table>
		</div>
		<div id="topics-controls-right" class="float-right nowrap" style="padding-top:.3em">
			<span style="padding-right:1em;height:21px">
		<img id="pin-icon" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/pin.png" title="This topic has been pinned in Scala" style="vertical-align: -45%; display: none;" height="21" width="20">
	</span>
			<span id="lock-icon" class="weak-color" style="padding:0 .5em;margin-right:.5em;display:none;">
		<img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/lock_sm.png" style="vertical-align: -10%;" height="15" width="10"> Locked
	</span>
			<span style="padding-right:1em">
		9 messages
	</span>
			<img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/gear.png" alt="Options" align="absmiddle" height="16" width="16">
			<span id="dd_topicdropdown"><span id="topicdropdown" class="dropdown"><a href="javascript:void(0)" title="Click for more options">Options</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingtopicdropdown" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpantopicdropdown">Loading...</span></td></tr><tr id="topicSubscriptionLink"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=subscribe&amp;node=2002175" rel="nofollow">Subscribe via email</a></td></tr><tr class="dropdown-separator"><td class="action-separator-down medium-border-color">&nbsp;</td></tr><tr id="moveTopic" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002175" rel="nofollow">Move topic</a></td></tr><tr id="pinTopic" style="display: none;"><td><a href="javascript:%20void%20Nabble.pinTopic(2002175)" rel="nofollow">Pin topic</a></td></tr><tr id="unpinTopic" style="display: none;"><td><a href="javascript:%20void%20Nabble.unpinTopic(2002175)" rel="nofollow">Unpin topic</a></td></tr><tr id="lockTopic" style="display: none;"><td><a href="javascript:%20void%20Nabble.lockTopic(2002175)" rel="nofollow">Lock topic</a></td></tr><tr id="unlockTopic" style="display: none;"><td><a href="javascript:%20void%20Nabble.unlockTopic(2002175)" rel="nofollow">Unlock topic</a></td></tr><tr id="deleteRecursively" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002175)" rel="nofollow">Delete this topic</a></td></tr><tr id="deletePost" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002175)" rel="nofollow">Delete this topic</a></td></tr><tr id="embedPost2002175"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/embed/EmbedOptions.jtp?node=2002175" rel="nofollow">Embed post</a></td></tr><tr id="permalink2002175"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html')">Permalink</a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('topicdropdown', 'Options','Click for more options','right:1em;text-align:left');
		dropdown.add('topicSubscriptionLink', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dsubscribe&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3ESubscribe via email\x3C/a\x3E');
		dropdown.addSeparator();
		dropdown.add('moveTopic', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3EMove topic\x3C/a\x3E', 'display:none');
		dropdown.add('pinTopic', '\x3Ca href\x3D\"javascript: void Nabble.pinTopic(2002175)\" rel\x3D\"nofollow\"\x3EPin topic\x3C/a\x3E', 'display:none');
		dropdown.add('unpinTopic', '\x3Ca href\x3D\"javascript: void Nabble.unpinTopic(2002175)\" rel\x3D\"nofollow\"\x3EUnpin topic\x3C/a\x3E', 'display:none');
		dropdown.add('lockTopic', '\x3Ca href\x3D\"javascript: void Nabble.lockTopic(2002175)\" rel\x3D\"nofollow\"\x3ELock topic\x3C/a\x3E', 'display:none');
		dropdown.add('unlockTopic', '\x3Ca href\x3D\"javascript: void Nabble.unlockTopic(2002175)\" rel\x3D\"nofollow\"\x3EUnlock topic\x3C/a\x3E', 'display:none');
		dropdown.add('deleteRecursively', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002175)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
			dropdown.add('deletePost', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002175)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
		dropdown.add('embedPost2002175', '\x3Ca href\x3D\"/embed/EmbedOptions.jtp?node\x3D2002175\" rel\x3D\"nofollow\"\x3EEmbed post\x3C/a\x3E');
		dropdown.add('permalink2002175', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.build('dd_topicdropdown');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=topic_dropdown_later&node=2002175' + Nabble.getClientID());
	</script>
		</div>
	</div>
			<div id="topic-contents" style="margin-top:5em;clear:both">
		<div id="classic-contents">
		
		<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988">Philipp Haller-2</a>
				</div>
				<div class="classic-subject-line">
					<span style="display: inline;" id="red-arrow2002175" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265306198000-478">Feb 04, 2010; 05:56pm</span><script type="text/javascript">
		Nabble.get('d1265306198000-478').innerHTML= Nabble.formatDateLong(new Date(1265306198000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		[scala] New draft paper on unique references and Scala compiler plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002175" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html',null)">Threaded</a> |
					<span id="dd_postdropdown2002175"><span id="postdropdown2002175" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002175" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002175">Loading...</span></td></tr><tr id="replyToAuthor2002175" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002175" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002175" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002175" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002175" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002175" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002175" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002175)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002175" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002175)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002175" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002175" rel="nofollow">Change post date</a></td></tr><tr id="print2002175"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002175" rel="nofollow">Print post</a></td></tr><tr id="permalink2002175"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html')">Permalink</a></td></tr><tr id="rawMail2002175" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002175" rel="nofollow">Raw mail</a></td></tr><tr id="social2002175" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;t=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title=%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002175', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002175', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002175\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002175', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002175', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002175', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002175)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002175', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002175)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002175', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002175', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002175', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002175', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002175\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002175', '\x3Ca href\x3D\"http://twitter.com/share?text\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;t\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html&amp;title\x3D%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002175');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002175' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002175">
		<img id="img-starB2002175" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988" rel="nofollow" title="View profile of Philipp Haller-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/0fc2a17752ba6379ed53bf4cdb2b1c8d.png" alt="Philipp Haller-2" title="Philipp Haller-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99988 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99988 nowrap">260 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div class="message-text">
		Hi all,
<br><br>I'd like to announce a new draft paper on unique references.
<br><br>&nbsp; &nbsp;Title: &nbsp; Capabilities for Uniqueness and Borrowing
<br><br>&nbsp; &nbsp;Authors: Philipp Haller and Martin Odersky
<br><br>&nbsp; &nbsp;Abstract:
<br>&nbsp; &nbsp;An important application of unique object references is safe and
<br>&nbsp; &nbsp;efficient message passing in concurrent object-oriented programming.
<br>&nbsp; &nbsp;However, to prevent the ill effects of aliasing, practical systems
<br>&nbsp; &nbsp;often severely restrict the shape of messages passed by reference.
<br>&nbsp; &nbsp;Moreover, the problematic interplay between destructive reads--often
<br>&nbsp; &nbsp;used to implement unique references--and temporary aliasing through
<br>&nbsp; &nbsp;``borrowed'' references is exacerbated in a concurrent setting,
<br>&nbsp; &nbsp;increasing the potential for unpredictable run-time errors.
<br><br>&nbsp; &nbsp;This paper introduces a new approach to uniqueness. The idea is to use
<br>&nbsp; &nbsp;capabilities for enforcing both at-most-once consumption of unique
<br>&nbsp; &nbsp;references, and a flexible notion of uniqueness. The main novelty of
<br>&nbsp; &nbsp;our approach is a model of uniqueness and borrowing based on simple,
<br>&nbsp; &nbsp;unstructured capabilities. The advantages are: first, it provides
<br>&nbsp; &nbsp;simple foundations for uniqueness and borrowing. Second, it can be
<br>&nbsp; &nbsp;formalized using a relatively simple type system, for which we provide
<br>&nbsp; &nbsp;a complete soundness proof. Third, it avoids common problems involving
<br>&nbsp; &nbsp;borrowing and destructive reads, since unique references subsume
<br>&nbsp; &nbsp;borrowed references.
<br><br>&nbsp; &nbsp;We have implemented our type system as an extension to Scala.
<br>&nbsp; &nbsp;Practical experience suggests that our system allows type checking
<br>&nbsp; &nbsp;real-world actor-based concurrent programs with only a small number of
<br>&nbsp; &nbsp;additional type annotations.
<br><br>The technical report (with complete proofs) is available as PDF from:
<br><a href="http://lamp.epfl.ch/%7Ephaller/capabilities.html" target="_top" rel="nofollow" link="external">http://lamp.epfl.ch/~phaller/capabilities.html</a><br><br>A prototype implementation of the type system as a Scala compiler 
<br>plug-in is available in the Scala SVN repository:
<br><a href="http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique" target="_top" rel="nofollow" link="external">http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique</a><br><br>Among the examples you find an actor-based ray tracer, as well as an
<br>annotated version of partest (used to run the nightly and check-in
<br>tests for the Scala compiler and standard libraries).
<br><br>There are instructions for building the plugin (also on Scala 2.8 
<br>Beta1), running the test suite, and checking example programs:
<br><a href="http://lamp.epfl.ch/%7Ephaller/readme_uniqueness.html" target="_top" rel="nofollow" link="external">http://lamp.epfl.ch/~phaller/readme_uniqueness.html</a><br><br><br>Feedback on both the paper and the plug-in is very welcome!
<br><br>Best regards,
<br>Philipp
<br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=134296">Miles Sabin</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002183" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265306864000-909">Feb 04, 2010; 06:07pm</span><script type="text/javascript">
		Nabble.get('d1265306864000-909').innerHTML= Nabble.formatDateLong(new Date(1265306864000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler  plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002183" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002183',null)">Threaded</a> |
					<span id="dd_postdropdown2002183"><span id="postdropdown2002183" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002183" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002183">Loading...</span></td></tr><tr id="replyToAuthor2002183" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002183" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002183" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002183" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002183" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002183" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002183" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002183)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002183" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002183)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002183" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002183" rel="nofollow">Change post date</a></td></tr><tr id="print2002183"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002183" rel="nofollow">Print post</a></td></tr><tr id="permalink2002183"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html')">Permalink</a></td></tr><tr id="rawMail2002183" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002183" rel="nofollow">Raw mail</a></td></tr><tr id="social2002183" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002183', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002183', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002183\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002183', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002183\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002183', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002183\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002183', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002183)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002183', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002183)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002183', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002183\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002183', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002183\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002183', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002183', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002183\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002183', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002183');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002183' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002183">
		<img id="img-starB2002183" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=134296" rel="nofollow" title="View profile of Miles Sabin" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/8a7e159fad28f672ca794fb7f2bf7f0f.jpg" alt="Miles Sabin" title="Miles Sabin" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online134296 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count134296 nowrap">1338 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div class="message-text">
		On Thu, Feb 4, 2010 at 5:56 PM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002183&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br>&gt; A prototype implementation of the type system as a Scala compiler plug-in is
<br>&gt; available in the Scala SVN repository:
<br>&gt; <a href="http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique" target="_top" rel="nofollow" link="external">http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique</a><br><br>Excellent stuff! Out of interest, aside from the plugin itself, what's
<br>the delta between the scala-unique branch and trunk?
<br><br>Cheers,
<br><br><br>Miles
<br><br>-- 
<br>Miles Sabin
<br>tel: +44 (0)7813 944 528
<br>skype: &nbsp;milessabin
<br><a href="http://www.chuusai.com/" target="_top" rel="nofollow" link="external">http://www.chuusai.com/</a><br><a href="http://twitter.com/milessabin" target="_top" rel="nofollow" link="external">http://twitter.com/milessabin</a><br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984">Johannes Rudolph-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002177" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265307797000-199">Feb 04, 2010; 06:23pm</span><script type="text/javascript">
		Nabble.get('d1265307797000-199').innerHTML= Nabble.formatDateLong(new Date(1265307797000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler  plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002177" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002177',null)">Threaded</a> |
					<span id="dd_postdropdown2002177"><span id="postdropdown2002177" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002177" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002177">Loading...</span></td></tr><tr id="replyToAuthor2002177" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002177" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002177" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002177" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002177" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002177" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002177" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002177)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002177" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002177)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002177" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002177" rel="nofollow">Change post date</a></td></tr><tr id="print2002177"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002177" rel="nofollow">Print post</a></td></tr><tr id="permalink2002177"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html')">Permalink</a></td></tr><tr id="rawMail2002177" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002177" rel="nofollow">Raw mail</a></td></tr><tr id="social2002177" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002177', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002177', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002177\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002177', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002177\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002177', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002177\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002177', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002177)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002177', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002177)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002177', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002177\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002177', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002177\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002177', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002177', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002177\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002177', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002177');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002177' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002177">
		<img id="img-starB2002177" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984" rel="nofollow" title="View profile of Johannes Rudolph-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/c64b6e78f65cb5048955f4970457e439.png" alt="Johannes Rudolph-2" title="Johannes Rudolph-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99984 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99984 nowrap">402 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	<div class="weak-color" style="font-size:80%;padding-bottom:1em">
				In reply to <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html" rel="nofollow">this post</a>
				by Philipp Haller-2
			</div>
	<div class="message-text">
		Hi Philipp,
<br><br>On Thu, Feb 4, 2010 at 6:56 PM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002177&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br>&gt; I'd like to announce a new draft paper on unique references.
<br>&gt;
<br>&gt; &nbsp;Title: &nbsp; Capabilities for Uniqueness and Borrowing
<br>&gt;
<br>&gt; &nbsp;Authors: Philipp Haller and Martin Odersky
<br><br>this looks great! I've just skimmed the paper and what I've instantly
<br>thought of was using this stuff for automatic resource management.
<br>Often you want to restrict the use of some resource to some block so
<br>you use a doWithX pattern like that:
<br><br>def doWithX[X](fileName: String)(func: File =&gt; X): X
<br><br>doWithX("test.xml") { f=&gt;
<br>&nbsp; f.read
<br>//...
<br>}
<br><br>The problem then is that you can't prevent f from leaving the scope.
<br>Can you use your work for this case? Which annotations would be needed
<br>to ensure that methods of f can be called but f can't be aliased
<br>otherwise?
<br><br><br>-- 
<br>Johannes
<br><br>-----------------------------------------------
<br>Johannes Rudolph
<br><a href="http://virtual-void.net/" target="_top" rel="nofollow" link="external">http://virtual-void.net</a><br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988">Philipp Haller-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002184" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265308373000-357">Feb 04, 2010; 06:32pm</span><script type="text/javascript">
		Nabble.get('d1265308373000-357').innerHTML= Nabble.formatDateLong(new Date(1265308373000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002184" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002184',null)">Threaded</a> |
					<span id="dd_postdropdown2002184"><span id="postdropdown2002184" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002184" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002184">Loading...</span></td></tr><tr id="replyToAuthor2002184" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002184" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002184" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002184" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002184" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002184" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002184" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002184)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002184" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002184)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002184" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002184" rel="nofollow">Change post date</a></td></tr><tr id="print2002184"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002184" rel="nofollow">Print post</a></td></tr><tr id="permalink2002184"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html')">Permalink</a></td></tr><tr id="rawMail2002184" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002184" rel="nofollow">Raw mail</a></td></tr><tr id="social2002184" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002184', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002184', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002184\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002184', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002184\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002184', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002184\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002184', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002184)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002184', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002184)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002184', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002184\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002184', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002184\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002184', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002184', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002184\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002184', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002184.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002184');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002184' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002184">
		<img id="img-starB2002184" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988" rel="nofollow" title="View profile of Philipp Haller-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/0fc2a17752ba6379ed53bf4cdb2b1c8d.png" alt="Philipp Haller-2" title="Philipp Haller-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99988 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99988 nowrap">260 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	<div class="weak-color" style="font-size:80%;padding-bottom:1em">
				In reply to <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002183.html" rel="nofollow">this post</a>
				by Miles Sabin
			</div>
	<div class="message-text">
		Miles Sabin wrote:
<br>&gt; On Thu, Feb 4, 2010 at 5:56 PM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002184&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br>&gt;&gt; A prototype implementation of the type system as a Scala compiler plug-in is
<br>&gt;&gt; available in the Scala SVN repository:
<br>&gt;&gt; <a href="http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique" target="_top" rel="nofollow" link="external">http://lampsvn.epfl.ch/trac/scala/browser/scala/branches/scala-unique</a><br>&gt; 
<br>&gt; Excellent stuff! Out of interest, aside from the plugin itself, what's
<br>&gt; the delta between the scala-unique branch and trunk?
<br><br>No difference that affects the plugin; you can build against 2.8 Beta1 
<br>(or any other recent revision) just fine; see, e.g., 
<br>`compile-plugin.sh`. The actual delta is currently between some Beta1-RC 
<br>and trunk. (I'll do a sync soon.)
<br><br>I decided to go with an entire branch mostly for convenience when 
<br>building the annotated version of partest. (The plugin test suite also 
<br>uses partest, which could be run independently of the branch.)
<br><br>Cheers,
<br>Philipp
<br><br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988">Philipp Haller-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002178" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265365146000-288">Feb 05, 2010; 10:19am</span><script type="text/javascript">
		Nabble.get('d1265365146000-288').innerHTML= Nabble.formatDateLong(new Date(1265365146000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002178" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002178',null)">Threaded</a> |
					<span id="dd_postdropdown2002178"><span id="postdropdown2002178" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002178" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002178">Loading...</span></td></tr><tr id="replyToAuthor2002178" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002178" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002178" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002178" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002178" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002178" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002178" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002178)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002178" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002178)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002178" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002178" rel="nofollow">Change post date</a></td></tr><tr id="print2002178"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002178" rel="nofollow">Print post</a></td></tr><tr id="permalink2002178"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html')">Permalink</a></td></tr><tr id="rawMail2002178" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002178" rel="nofollow">Raw mail</a></td></tr><tr id="social2002178" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002178', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002178', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002178\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002178', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002178\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002178', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002178\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002178', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002178)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002178', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002178)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002178', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002178\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002178', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002178\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002178', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002178', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002178\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002178', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002178.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002178');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002178' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002178">
		<img id="img-starB2002178" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988" rel="nofollow" title="View profile of Philipp Haller-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/0fc2a17752ba6379ed53bf4cdb2b1c8d.png" alt="Philipp Haller-2" title="Philipp Haller-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99988 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99988 nowrap">260 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	<div class="weak-color" style="font-size:80%;padding-bottom:1em">
				In reply to <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002177.html" rel="nofollow">this post</a>
				by Johannes Rudolph-2
			</div>
	<div class="message-text">
		Johannes Rudolph wrote:
<div style="height: 180px; overflow-y: hidden;" class="shrinkable-quote"><br>&gt; Hi Philipp,
<br>&gt; 
<br>&gt; On Thu, Feb 4, 2010 at 6:56 PM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002178&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br>&gt;&gt; I'd like to announce a new draft paper on unique references.
<br>&gt;&gt;
<br>&gt;&gt; &nbsp;Title: &nbsp; Capabilities for Uniqueness and Borrowing
<br>&gt;&gt;
<br>&gt;&gt; &nbsp;Authors: Philipp Haller and Martin Odersky
<br>&gt; 
<br>&gt; this looks great! I've just skimmed the paper and what I've instantly
<br>&gt; thought of was using this stuff for automatic resource management.
<br>&gt; Often you want to restrict the use of some resource to some block so
<br>&gt; you use a doWithX pattern like that:
<br>&gt; 
<br>&gt; def doWithX[X](fileName: String)(func: File =&gt; X): X
<br>&gt; 
<br>&gt; doWithX("test.xml") { f=&gt;
<br>&gt; &nbsp; f.read
<br>&gt; //...
<br>&gt; }
<br>&gt; 
<br>&gt; The problem then is that you can't prevent f from leaving the scope.
<br>&gt; Can you use your work for this case? Which annotations would be needed
<br>&gt; to ensure that methods of f can be called but f can't be aliased
<br>&gt; otherwise?
</div><div class="shrink-quote"><span>...</span> [<a href="#">show rest of quote</a>]</div><br>Yes, we can use the system for that. This is how you would have to 
<br>annotate `doWithX` (I use a single parameter list, since the plugin 
<br>doesn't handle multiple lists, yet):
<br><br>&nbsp; &nbsp;def doWithX[X](fileName: String, func: (File =&gt; X)@unique): X = {
<br>&nbsp; &nbsp; &nbsp;val f = new File(fileName)
<br>&nbsp; &nbsp; &nbsp;func(f)
<br>&nbsp; &nbsp;}
<br><br>Basically, we say that `func` must be unique, which means that it is 
<br>guarded by some capability that is consumed when the call to `doWithX` 
<br>returns. That is, after `doWithX` the closure is no longer usable.
<br><br>Importantly, the parameter of the closure is guarded by the same 
<br>capability as the closure, and it may _not_ be consumed in the body of 
<br>the closure. Taken the two things together prevents leaking `f` out of 
<br>the closure:
<br><br>&nbsp; &nbsp;var leaky: File = _
<br><br>&nbsp; &nbsp;doWithX("test.xml", { f =&gt;
<br>&nbsp; &nbsp; &nbsp;println(f.getCanonicalPath)
<br>&nbsp; &nbsp; &nbsp;leaky = f // error: incompatible guards
<br>&nbsp; &nbsp;})
<br><br>Simply assigning to `leaky` doesn't work, since `f` is guarded by a 
<br>different capability. We could try capturing `f`, thereby transferring 
<br>it into the region of `leaky`:
<br><br>&nbsp; &nbsp;doWithX("test.xml", { f =&gt;
<br>&nbsp; &nbsp; &nbsp;println(f.getCanonicalPath)
<br>&nbsp; &nbsp; &nbsp;leaky = capture(f, leaky) // error: f may not be consumed
<br>&nbsp; &nbsp;})
<br><br>This is ruled out, since it would consume the capability of `f`; 
<br>however, the closure may not consume the capability of its parameter.
<br><br>However, I just checked and currently the implementation conservatively 
<br>guards the argument closure with the shared capability (the global 
<br>region of unannotated objects); this leads to a type error ("shared 
<br>capability may not be consumed"), but not the one we would like. Rest 
<br>assured that this is going to be fixed soon.
<br><br>Cheers,
<br>Philipp
<br><br>PS: Another issue is that `java.io.File` is immutable, which means 
<br>leaking it is allowed. To prevent that you have to create a transient 
<br>subclass (see paper), which is not assumed to be immutable. A simple 
<br>`@transient class MyFile extends File` will do.
<br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984">Johannes Rudolph-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002179" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265365688000-438">Feb 05, 2010; 10:28am</span><script type="text/javascript">
		Nabble.get('d1265365688000-438').innerHTML= Nabble.formatDateLong(new Date(1265365688000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler  plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002179" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002179',null)">Threaded</a> |
					<span id="dd_postdropdown2002179"><span id="postdropdown2002179" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002179" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002179">Loading...</span></td></tr><tr id="replyToAuthor2002179" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002179" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002179" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002179" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002179" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002179" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002179" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002179)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002179" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002179)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002179" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002179" rel="nofollow">Change post date</a></td></tr><tr id="print2002179"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002179" rel="nofollow">Print post</a></td></tr><tr id="permalink2002179"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html')">Permalink</a></td></tr><tr id="rawMail2002179" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002179" rel="nofollow">Raw mail</a></td></tr><tr id="social2002179" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002179', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002179', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002179\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002179', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002179\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002179', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002179\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002179', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002179)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002179', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002179)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002179', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002179\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002179', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002179\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002179', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002179', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002179\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002179', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002179');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002179' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002179">
		<img id="img-starB2002179" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984" rel="nofollow" title="View profile of Johannes Rudolph-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/c64b6e78f65cb5048955f4970457e439.png" alt="Johannes Rudolph-2" title="Johannes Rudolph-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99984 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99984 nowrap">402 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div class="message-text">
		On Fri, Feb 5, 2010 at 11:19 AM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002179&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<div style="height: 180px; overflow-y: hidden;" class="shrinkable-quote"><br>&gt; Yes, we can use the system for that. This is how you would have to annotate
<br>&gt; `doWithX` (I use a single parameter list, since the plugin doesn't handle
<br>&gt; multiple lists, yet):
<br>&gt;
<br>&gt; &nbsp;def doWithX[X](fileName: String, func: (File =&gt; X)@unique): X = {
<br>&gt; &nbsp; &nbsp;val f = new File(fileName)
<br>&gt; &nbsp; &nbsp;func(f)
<br>&gt; &nbsp;}
<br>&gt;
<br>&gt; Basically, we say that `func` must be unique, which means that it is guarded
<br>&gt; by some capability that is consumed when the call to `doWithX` returns. That
<br>&gt; is, after `doWithX` the closure is no longer usable.
<br>&gt;
<br>&gt; Importantly, the parameter of the closure is guarded by the same capability
<br>&gt; as the closure, and it may _not_ be consumed in the body of the closure.
</div><div class="shrink-quote"><span>...</span> [<a href="#">show rest of quote</a>]</div><br>Good to know that it works! This should work in most cases, but isn't
<br>annotating the closure with @unique overly restrictive? Is there a
<br>reason to prevent the closure from being usable after the call to
<br>doWithX? Or is it just to make the parameter of the closure 'inherit'
<br>the capability?
<br><br>&gt; PS: Another issue is that `java.io.File` is immutable, which means leaking
<br>&gt; it is allowed. To prevent that you have to create a transient subclass (see
<br>&gt; paper), which is not assumed to be immutable. A simple `@transient class
<br>&gt; MyFile extends File` will do.
<br><br>File was perhaps a bad example. I had not the particular
<br>`java.io.File` in mind but instead a class representing an open file
<br>handle (e.g. OutputStream) or some other OS resource. Since the
<br>external resource would be referenced by some immutable value as well,
<br>I guess your comment applies to that case equally.
<br><br>Thanks for the explanation.
<br><br>-- 
<br>Johannes
<br><br>-----------------------------------------------
<br>Johannes Rudolph
<br><a href="http://virtual-void.net/" target="_top" rel="nofollow" link="external">http://virtual-void.net</a><br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=32108">Raoul Duke</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002182" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265394405000-690">Feb 05, 2010; 06:26pm</span><script type="text/javascript">
		Nabble.get('d1265394405000-690').innerHTML= Nabble.formatDateLong(new Date(1265394405000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: [scala] New draft paper on unique references and Scala compiler  plug-in
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002182" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002182',null)">Threaded</a> |
					<span id="dd_postdropdown2002182"><span id="postdropdown2002182" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002182" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002182">Loading...</span></td></tr><tr id="replyToAuthor2002182" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002182" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002182" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002182" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002182" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002182" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002182" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002182)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002182" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002182)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002182" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002182" rel="nofollow">Change post date</a></td></tr><tr id="print2002182"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002182" rel="nofollow">Print post</a></td></tr><tr id="permalink2002182"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html')">Permalink</a></td></tr><tr id="rawMail2002182" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002182" rel="nofollow">Raw mail</a></td></tr><tr id="social2002182" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;t=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title=Re%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002182', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002182', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002182\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002182', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002182\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002182', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002182\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002182', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002182)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002182', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002182)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002182', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002182\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002182', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002182\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002182', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002182', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002182\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002182', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;t\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002182.html&amp;title\x3DRe%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler++plug-in\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002182');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002182' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002182">
		<img id="img-starB2002182" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=32108" rel="nofollow" title="View profile of Raoul Duke" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/5a09c750e18c4c06906d12e664ef1128.png" alt="Raoul Duke" title="Raoul Duke" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online32108 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count32108 nowrap">520 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	<div class="weak-color" style="font-size:80%;padding-bottom:1em">
				In reply to <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002175.html" rel="nofollow">this post</a>
				by Philipp Haller-2
			</div>
	<div class="message-text">
		when does it go mainstream?
<br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988">Philipp Haller-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002180" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265644764000-656">Feb 08, 2010; 03:59pm</span><script type="text/javascript">
		Nabble.get('d1265644764000-656').innerHTML= Nabble.formatDateLong(new Date(1265644764000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Checking automatic resource management (ARM) (Was: [scala] New draft paper on unique references and Scala compiler plug-in)
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002180" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002180',null)">Threaded</a> |
					<span id="dd_postdropdown2002180"><span id="postdropdown2002180" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002180" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002180">Loading...</span></td></tr><tr id="replyToAuthor2002180" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002180" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002180" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002180" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002180" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002180" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002180" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002180)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002180" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002180)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002180" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002180" rel="nofollow">Change post date</a></td></tr><tr id="print2002180"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002180" rel="nofollow">Print post</a></td></tr><tr id="permalink2002180"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html')">Permalink</a></td></tr><tr id="rawMail2002180" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002180" rel="nofollow">Raw mail</a></td></tr><tr id="social2002180" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;t=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title=Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002180', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002180', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002180\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002180', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002180\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002180', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002180\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002180', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002180)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002180', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002180)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002180', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002180\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002180', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002180\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002180', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002180', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002180\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002180', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;t\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002180.html&amp;title\x3DChecking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New+draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002180');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002180' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002180">
		<img id="img-starB2002180" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99988" rel="nofollow" title="View profile of Philipp Haller-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/0fc2a17752ba6379ed53bf4cdb2b1c8d.png" alt="Philipp Haller-2" title="Philipp Haller-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99988 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99988 nowrap">260 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	<div class="weak-color" style="font-size:80%;padding-bottom:1em">
				In reply to <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002179.html" rel="nofollow">this post</a>
				by Johannes Rudolph-2
			</div>
	<div class="message-text">
		Hi all,
<br><br>I'll start out with a question for anyone interested in automatic 
<br>resource management (ARM): I would be interested in some larger example 
<br>that uses an ARM library (such as the scala-arm project of Josh Suereth) 
<br>for resource management. I'd like to try and see whether/how the 
<br>uniqueness plug-in can help checking some of the desired properties.
<br><br>My other comments are inline:
<br><br>Johannes Rudolph wrote:
<div style="height: 180px; overflow-y: hidden;" class="shrinkable-quote"><br>&gt; On Fri, Feb 5, 2010 at 11:19 AM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002180&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br>&gt;&gt; Yes, we can use the system for that. This is how you would have to annotate
<br>&gt;&gt; `doWithX` (I use a single parameter list, since the plugin doesn't handle
<br>&gt;&gt; multiple lists, yet):
<br>&gt;&gt;
<br>&gt;&gt; &nbsp;def doWithX[X](fileName: String, func: (File =&gt; X)@unique): X = {
<br>&gt;&gt; &nbsp; &nbsp;val f = new File(fileName)
<br>&gt;&gt; &nbsp; &nbsp;func(f)
<br>&gt;&gt; &nbsp;}
<br>&gt;&gt;
<br>&gt;&gt; Basically, we say that `func` must be unique, which means that it is guarded
<br>&gt;&gt; by some capability that is consumed when the call to `doWithX` returns. That
<br>&gt;&gt; is, after `doWithX` the closure is no longer usable.
<br>&gt;&gt;
<br>&gt;&gt; Importantly, the parameter of the closure is guarded by the same capability
<br>&gt;&gt; as the closure, and it may _not_ be consumed in the body of the closure.
<br>&gt; 
<br>&gt; Good to know that it works! This should work in most cases, but isn't
<br>&gt; annotating the closure with @unique overly restrictive? Is there a
<br>&gt; reason to prevent the closure from being usable after the call to
<br>&gt; doWithX? Or is it just to make the parameter of the closure 'inherit'
<br>&gt; the capability?
</div><div class="shrink-quote"><span>...</span> [<a href="#">show rest of quote</a>]</div><br>Indeed, the main point is that the closure parameter inherits the 
<br>capability; to ensure that it won't be leaked the capability must be 
<br>fresh, which both `@unique` and `@transient` provide as long as none of 
<br>the other parameters is `@peer` of the closure parameter. So, yes, you 
<br>can also annotate the closure as `@transient`. For closure literals, 
<br>that is, closures defined in-line, there is no difference between 
<br>`@unique` and `@transient`, since the closure isn't accessible any more 
<br>after the `doWithX` invocation anyways.
<br><br>FYI, the above example now type-checks and the expected errors are 
<br>reported when the parameters is leaked out of the scope (see the new 
<br>`dowith*.scala` files in the test suite).
<br><br><div style="height: 180px; overflow-y: hidden;" class="shrinkable-quote"><br>&gt;&gt; PS: Another issue is that `java.io.File` is immutable, which means leaking
<br>&gt;&gt; it is allowed. To prevent that you have to create a transient subclass (see
<br>&gt;&gt; paper), which is not assumed to be immutable. A simple `@transient class
<br>&gt;&gt; MyFile extends File` will do.
<br>&gt; 
<br>&gt; File was perhaps a bad example. I had not the particular
<br>&gt; `java.io.File` in mind but instead a class representing an open file
<br>&gt; handle (e.g. OutputStream) or some other OS resource. Since the
<br>&gt; external resource would be referenced by some immutable value as well,
<br>&gt; I guess your comment applies to that case equally.
</div><div class="shrink-quote"><span>...</span> [<a href="#">show rest of quote</a>]</div><br>Yes.
<br>I am wondering whether it should be possible to say "This value might be 
<br>immutable, but I still want you to guard it with a capability to check 
<br>for uniqueness".
<br><br>&gt; Thanks for the explanation.
<br><br>Thanks for your interesting example.
<br><br>Cheers,
<br>Philipp
<br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984">Johannes Rudolph-2</a>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow2002181" class="float-left invisible">
		<img title="Selected post" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/arrow.png" alt="Selected post" height="15" width="15">
	</span>
					<span class="post-date float-left">
		<span id="d1265705026000-439">Feb 09, 2010; 08:43am</span><script type="text/javascript">
		Nabble.get('d1265705026000-439').innerHTML= Nabble.formatDateLong(new Date(1265705026000));
	</script>
	</span>
					<h2 class="post-subject float-left" style="width:30%;overflow:visible">
		Re: Checking automatic resource management (ARM) (Was: [scala] New  
draft paper on unique references and Scala compiler plug-in)
	</h2>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=reply&amp;node=2002181" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tt2002175.html#a2002181',null)">Threaded</a> |
					<span id="dd_postdropdown2002181"><span id="postdropdown2002181" class="dropdown"><a href="javascript:void(0)" title="Click for more options">More</a> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/more.png" title="Click for more options" height="10" width="10"><table style="margin-top: 1px; right: 1em; text-align: left;"><tbody><tr id="_loadingpostdropdown2002181" style="display: none;"><td style="padding: 0.4em;"><span id="_loadingSpanpostdropdown2002181">Loading...</span></td></tr><tr id="replyToAuthor2002181" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=pm&amp;post=2002181" rel="nofollow">Reply to author</a></td></tr><tr id="editPost2002181" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=edit_post&amp;node=2002181" rel="nofollow">Edit post</a></td></tr><tr id="movePost2002181" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=move_node&amp;node=2002181" rel="nofollow">Move post</a></td></tr><tr id="deletePost2002181" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deletePost(2002181)" rel="nofollow">Delete this post</a></td></tr><tr id="deleteRecursively2002181" style="display: none;"><td><a href="javascript:%20void(0)" onclick="Nabble.deleteFromSite(2002181)" rel="nofollow">Delete this post and replies</a></td></tr><tr id="changePostDate2002181" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=change_post_date&amp;node=2002181" rel="nofollow">Change post date</a></td></tr><tr id="print2002181"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=print_post&amp;node=2002181" rel="nofollow">Print post</a></td></tr><tr id="permalink2002181"><td><a href="javascript:%20void(0)" onclick="prompt('Copy this:','http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html')">Permalink</a></td></tr><tr id="rawMail2002181" style="display: none;"><td><a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=raw_mail&amp;node=2002181" rel="nofollow">Raw mail</a></td></tr><tr id="social2002181" style="white-space: nowrap;"><td><a href="http://twitter.com/share?text=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29&amp;related=Scala+Programming+Language&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html" title="Twitter" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/twitter.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.facebook.com/share.php?v=4&amp;src=bm&amp;u=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;t=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Facebook" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/facebook.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://del.icio.us/post?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Delicious" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/delicious.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.google.com/bookmarks/mark?op=add&amp;bkmk=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Google Bookmarks" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/google.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Stumble Upon" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/stumbleupon.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;source=Scala+Programming+Language" title="LinkedIn" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/linkedin.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a> <a href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title=Re%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29" title="Digg" target="_blank" ignore="y"> <img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/digg.png" style="width: 16px; height: 16px; margin-top: 0.2em; border: medium none;"> </a></td></tr></tbody></table></span></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown('postdropdown2002181', 'More','Click for more options','right:1em;text-align:left');
		dropdown.add('replyToAuthor2002181', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D2002181\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost2002181', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D2002181\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost2002181', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D2002181\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost2002181', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(2002181)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively2002181', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(2002181)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate2002181', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D2002181\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print2002181', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D2002181\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink2002181', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://scala-programming-language.1934581.n4.nabble.com/scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail2002181', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D2002181\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social2002181', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29&amp;related\x3DScala+Programming+Language&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;t\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;source\x3DScala+Programming+Language\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fscala-programming-language.1934581.n4.nabble.com%2Fscala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-tp2002175p2002181.html&amp;title\x3DRe%3A+Checking+automatic+resource+management+%28ARM%29+%28Was%3A+%5Bscala%5D+New++draft+paper+on+unique+references+and+Scala+compiler+plug-in%29\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown2002181');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=2002181' + Nabble.getClientID());
	</script>
					&nbsp;
					<span style="cursor: pointer;" id="starB2002181">
		<img id="img-starB2002181" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/icon_unstarred.png" class="star" alt="star" title="Click to star this item">
	</span>
	
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tbody><tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://scala-programming-language.1934581.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=99984" rel="nofollow" title="View profile of Johannes Rudolph-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/c64b6e78f65cb5048955f4970457e439.png" alt="Johannes Rudolph-2" title="Johannes Rudolph-2" height="100" width="100"><img src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/online.png" class="online99984 online invisible" title="User is online" alt="online"></a>

	
	
		</div>
	</div>
	<div class="post-count99984 nowrap">402 posts</div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div class="message-text">
		Another question:
<br><br>If you use the plugin, is the typing always stricter? If so, does that
<br>mean, you, as a library builder, could use the annotations always, but
<br>make the use of the plug-in for a user optional (but recommended) ?
<br>Like: "We've built in another set of type-checks into our library
<br>which you can make use of by including the plug-in into your build
<br>process. If you don't, compiling will work but may not catch all the
<br>errors at compile-time."
<br><br>Or will the plug-in make its way into the default set of compiler phases?
<br><br><br>On Mon, Feb 8, 2010 at 4:59 PM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002181&amp;i=0&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<div style="height: 180px; overflow-y: hidden;" class="shrinkable-quote"><br>&gt; Hi all,
<br>&gt;
<br>&gt; I'll start out with a question for anyone interested in automatic resource
<br>&gt; management (ARM): I would be interested in some larger example that uses an
<br>&gt; ARM library (such as the scala-arm project of Josh Suereth) for resource
<br>&gt; management. I'd like to try and see whether/how the uniqueness plug-in can
<br>&gt; help checking some of the desired properties.
<br>&gt;
<br>&gt; My other comments are inline:
<br>&gt;
<br>&gt; Johannes Rudolph wrote:
<br>&gt;&gt;
<br>&gt;&gt; On Fri, Feb 5, 2010 at 11:19 AM, Philipp Haller &lt;<a href="http://scala-programming-language.1934581.n4.nabble.com/user/SendEmail.jtp?type=node&amp;node=2002181&amp;i=1&amp;by-user=t" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt;
<br>&gt;&gt; wrote:
<br>&gt;&gt;&gt;
<br>&gt;&gt;&gt; Yes, we can use the system for that. This is how you would have to
<br>&gt;&gt;&gt; annotate
<br>&gt;&gt;&gt; `doWithX` (I use a single parameter list, since the plugin doesn't handle
<br>&gt;&gt;&gt; multiple lists, yet):
<br>&gt;&gt;&gt;
<br>&gt;&gt;&gt; &nbsp;def doWithX[X](fileName: String, func: (File =&gt; X)@unique): X = {
<br>&gt;&gt;&gt; &nbsp; val f = new File(fileName)
<br>&gt;&gt;&gt; &nbsp; func(f)
<br>&gt;&gt;&gt; &nbsp;}
<br>&gt;&gt;&gt;
<br>&gt;&gt;&gt; Basically, we say that `func` must be unique, which means that it is
<br>&gt;&gt;&gt; guarded
<br>&gt;&gt;&gt; by some capability that is consumed when the call to `doWithX` returns.
<br>&gt;&gt;&gt; That
<br>&gt;&gt;&gt; is, after `doWithX` the closure is no longer usable.
<br>&gt;&gt;&gt;
<br>&gt;&gt;&gt; Importantly, the parameter of the closure is guarded by the same
<br>&gt;&gt;&gt; capability
<br>&gt;&gt;&gt; as the closure, and it may _not_ be consumed in the body of the closure.
<br>&gt;&gt;
<br>&gt;&gt; Good to know that it works! This should work in most cases, but isn't
<br>&gt;&gt; annotating the closure with @unique overly restrictive? Is there a
<br>&gt;&gt; reason to prevent the closure from being usable after the call to
<br>&gt;&gt; doWithX? Or is it just to make the parameter of the closure 'inherit'
<br>&gt;&gt; the capability?
<br>&gt;
<br>&gt; Indeed, the main point is that the closure parameter inherits the
<br>&gt; capability; to ensure that it won't be leaked the capability must be fresh,
<br>&gt; which both `@unique` and `@transient` provide as long as none of the other
<br>&gt; parameters is `@peer` of the closure parameter. So, yes, you can also
<br>&gt; annotate the closure as `@transient`. For closure literals, that is,
<br>&gt; closures defined in-line, there is no difference between `@unique` and
<br>&gt; `@transient`, since the closure isn't accessible any more after the
<br>&gt; `doWithX` invocation anyways.
<br>&gt;
<br>&gt; FYI, the above example now type-checks and the expected errors are reported
<br>&gt; when the parameters is leaked out of the scope (see the new `dowith*.scala`
<br>&gt; files in the test suite).
<br>&gt;
<br>&gt;
<br>&gt;&gt;&gt; PS: Another issue is that `java.io.File` is immutable, which means
<br>&gt;&gt;&gt; leaking
<br>&gt;&gt;&gt; it is allowed. To prevent that you have to create a transient subclass
<br>&gt;&gt;&gt; (see
<br>&gt;&gt;&gt; paper), which is not assumed to be immutable. A simple `@transient class
<br>&gt;&gt;&gt; MyFile extends File` will do.
<br>&gt;&gt;
<br>&gt;&gt; File was perhaps a bad example. I had not the particular
<br>&gt;&gt; `java.io.File` in mind but instead a class representing an open file
<br>&gt;&gt; handle (e.g. OutputStream) or some other OS resource. Since the
<br>&gt;&gt; external resource would be referenced by some immutable value as well,
<br>&gt;&gt; I guess your comment applies to that case equally.
<br>&gt;
<br>&gt; Yes.
<br>&gt; I am wondering whether it should be possible to say "This value might be
<br>&gt; immutable, but I still want you to guard it with a capability to check for
<br>&gt; uniqueness".
<br>&gt;
<br>&gt;&gt; Thanks for the explanation.
<br>&gt;
<br>&gt; Thanks for your interesting example.
<br>&gt;
<br>&gt; Cheers,
<br>&gt; Philipp
<br>&gt;
</div><div class="shrink-quote"><span>...</span> [<a href="#">show rest of quote</a>]</div><br><br><br>-- 
<br>Johannes
<br><br>-----------------------------------------------
<br>Johannes Rudolph
<br><a href="http://virtual-void.net/" target="_top" rel="nofollow" link="external">http://virtual-void.net</a><br>
	
	</div>
				</td>
			</tr>
		</tbody></table>
	</div>
	
		
	</div>
	</div>
			<div id="topic-footer" class="weak-color" style="padding-top:1em">
		Â«
		<a href="http://scala-programming-language.1934581.n4.nabble.com/Scala-f1986551.html">Return to Scala</a>
		&nbsp;|&nbsp;
		<span id="v2002175" style="">27 views</span>
	
	
	</div>
			<table class="footer-table shaded-bg-color">
		<tbody><tr>
			<td class="footer-left">
				<a href="http://www.nabble.com/" target="_top">Free Embeddable Forum</a>
				powered by Nabble
			</td>
			<td class="footer-right">
				
				
			</td>
		</tr>
	</tbody></table>
			<script type="text/javascript">
var scriptUrl = '/template/NamlServlet.jtp?macro=js_page&searchSpecial=2002175&incViewCount=2002175&oldSnippetNotice=2002175&newsflash=&starB=2002175|2002183|2002177|2002184|2002178|2002179|2002182|2002180|2002181&visitorOnline=&avatarOnline=99988|134296|99984|32108&postCount=99988|134296|99984|32108&markVisited=2002181&views=2002175&helpFooter=&3652';
scriptUrl += Nabble.getClientID();
$.getScript(scriptUrl, function() { Nabble.resizeFrames(); });
</script>

						<script type="text/javascript">
		if (Nabble.analytics) Nabble.analytics();
	</script>
	<!-- Start Quantcast tag -->
			<script type="text/javascript">
			_qoptions={ qacct:"p-34EL1DZyJypTI" };
			</script>
			<script type="text/javascript" src="scala-New-draft-paper-on-unique-references-and-Scala-compiler-plug-in-td2002175_files/quant.js"></script>
			<noscript>
			<a href="http://www.quantcast.com/p-34EL1DZyJypTI" target="_blank" rel="nofollow"><img src="http://pixel.quantserve.com/pixel/p-34EL1DZyJypTI.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/></a>
			</noscript>
			<!-- End Quantcast tag -->
					</div>
					<script type="text/javascript">
						$(document).ready(function() { Nabble.fixCookieClientID(); });
					</script>
					<!-- n4.nabble.com -->
				
			</body></html>